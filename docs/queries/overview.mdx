---
title: Querying your Documents
label: Overview
order: 10
desc: Payload provides a querying language through all APIs, allowing you to filter or search through documents within a Collection.
keywords: query, documents, overview, documentation, Content Management System, cms, headless, javascript, node, react, nextjs
---

In Payload, "querying" means filtering or searching through documents within a [Collection](../configuration/collections). The querying language in Payload is designed to be simple and powerful, allowing you to filter documents with extreme precision.

Payload provides three common APIs for querying your data:

- [Local API](/docs/local-api/overview) - Extremely fast, direct-to-database access
- [REST API](/docs/rest-api/overview) - Standard HTTP endpoints for querying and mutating data
- [GraphQL](/docs/graphql/overview) - A full GraphQL API with a GraphQL Playground

Each of these APIs share the same underlying querying language, and fully support all of the same features. This means that you can learn Payload's querying language once, and use it across any of the APIs that you might use.

To query your documents, use the `where` parameter on the `find` operation. The `where` parameter accepts [Operators](#operators) that you can use to filter your documents, such as:

```ts
const query = {
  color: {
    equals: 'blue',
  },
}
```

_The exact query syntax will depend on the API you are using, but the concepts are the same across all APIs._

<Banner>
  <strong>Tip:</strong>
  You can also use Queries to restrict which documents certain users can access within [Access Control](../access-control/overview) functions.
</Banner>

## Operators

| Operator             | Description                                                                                                                                                                       |
| -------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `equals`             | The value must be exactly equal.                                                                                                                                                  |
| `not_equals`         | The query will return all documents where the value is not equal.                                                                                                                 |
| `greater_than`       | For numeric or date-based fields.                                                                                                                                                 |
| `greater_than_equal` | For numeric or date-based fields.                                                                                                                                                 |
| `less_than`          | For numeric or date-based fields.                                                                                                                                                 |
| `less_than_equal`    | For numeric or date-based fields.                                                                                                                                                 |
| `like`               | Case-insensitive string must be present. If string of words, all words must be present, in any order.                                                                             |
| `contains`           | Must contain the value entered, case-insensitive.                                                                                                                                 |
| `in`                 | The value must be found within the provided comma-delimited list of values.                                                                                                       |
| `not_in`             | The value must NOT be within the provided comma-delimited list of values.                                                                                                         |
| `all`                | The value must contain all values provided in the comma-delimited list.                                                                                                           |
| `exists`             | Only return documents where the value either exists (`true`) or does not exist (`false`).                                                                                         |
| `near`               | For distance related to a [point field](/docs/fields/point) comma separated as `<longitude>, <latitude>, <maxDistance in meters (nullable)>, <minDistance in meters (nullable)>`. |

<Banner type="success">
  <strong>Tip</strong>:<br />
  If you know your users will be querying on certain fields a lot, you can add <strong>
    index: true
  </strong> to a field's config which will speed up searches using that field immensely.
</Banner>

## And / Or Logic

In addition to defining simple queries, you can join multiple queries together using simple AND / OR logic. Let's take the above `Post` collection for example and write a more complex query using AND / OR:

```js
const query = {
  or: [
    // array of OR conditions
    {
      color: {
        equals: 'mint',
      },
    },
    {
      and: [
        // nested array of AND conditions
        {
          color: {
            equals: 'white',
          },
        },
        {
          featured: {
            equals: false,
          },
        },
      ],
    },
  ],
}
```

Written in plain English, if the above query were passed to a `find` operation, it would translate to finding posts where either the `color` is `mint` OR the `color` is `white` AND `featured` is set to false.

## Nested properties

When working with nested properties, which can happen when using relational fields, it is possible to use the dot notation to access the nested property. For example, when working with a `Song` collection that has a `artists` field which is related to an `Artists` collection using the `name: 'artists'`. You can access a property within the collection `Artists` like so:

```js
const query = {
  'artists.featured': {
    // nested property name to filter on
    exists: true, // operator to use and boolean value that needs to be true
  },
}
```

## GraphQL Find Queries

All GraphQL `find` queries support the `where` argument, which accepts queries exactly as detailed above.

**For example:**

```
query {
  Posts(where: { color: { equals: mint } }) {
    docs {
      color
    }
    totalDocs
  }
}
```

## REST Queries

With the REST API, you can use the full power of Payload queries as well but they become a bit more unwieldy the more complex that they get.

Simple queries are fairly straightforward to write. To understand the syntax, you need to understand that complex URL search strings are parsed into a JSON object. For example, the above [simple query](#simple-queries) would be parsed into a string like this:

**`https://localhost:3000/api/posts?where[color][equals]=mint`**

This one isn't too bad, but more complex queries get unavoidably more difficult to write as query strings. For this reason, we recommend to use the extremely helpful and ubiquitous [`qs`](https://www.npmjs.com/package/qs) package to parse your JSON / object-formatted queries into query strings for use with the REST API.

**For example, using fetch:**

```js
import { stringify } from 'qs-esm'

const query = {
  color: {
    equals: 'mint',
  },
  // This query could be much more complex
  // and QS would handle it beautifully
}

const getPosts = async () => {
  const stringifiedQuery = stringify(
    {
      where: query, // ensure that `qs` adds the `where` property, too!
    },
    { addQueryPrefix: true },
  )

  const response = await fetch(`http://localhost:3000/api/posts${stringifiedQuery}`)
  // Continue to handle the response below...
}
```

## Local API Queries

The Local API's `find` operation accepts an object exactly how you write it. For example:

```js
const getPosts = async () => {
  const posts = await payload.find({
    collection: 'posts',
    where: {
      color: {
        equals: 'mint',
      },
    },
  })

  return posts
}
```

## Sort

Payload `find` queries support a `sort` parameter through all APIs. Pass the `name` of a top-level field to sort by that field in ascending order. Prefix the name of the field with a minus symbol ("-") to sort in descending order. Because sorting is handled by the database, the field you wish to sort on must be stored in the database to work; not a [virtual field](https://payloadcms.com/blog/learn-how-virtual-fields-can-help-solve-common-cms-challenges). It is recommended to enable indexing for the fields where sorting is used.

**REST example:**
**`https://localhost:3000/api/posts?sort=-createdAt`**

**GraphQL example:**

```
query {
  Posts(sort: "-createdAt") {
    docs {
      color
    }
  }
}
```

**Local API example:**

```js
const getPosts = async () => {
  const posts = await payload.find({
    collection: 'posts',
    sort: '-createdAt',
  })

  return posts
}
```
