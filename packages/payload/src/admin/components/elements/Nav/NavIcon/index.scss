@import '../../../../scss/styles';

.nav-icon {
  position: relative;
  padding: 0;
  border: 0;
  cursor: pointer;
  background-color: transparent;
  outline: none;

  &:focus {
    outline: none;
  }

  &__icon {
    position: relative;
    width: calc(var(--base) / 1.75);
    height: calc(var(--base) / 1.75);
  }

  &__hamburger,
  &__x,
  &__chevron {
    position: absolute;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
  }

  &__line {
    background-color: var(--theme-text);
    width: 100%;
    height: 1px;
    position: absolute;
  }

  &__top {
    top: 2px;
    transform: translate3d(0, 0, 0) rotate(0);
  }

  &__middle {
    top: 50%;
    transform: translate3d(0, -50%, 0) rotate(0);
  }

  &__bottom {
    bottom: 2px;
    transform: translate3d(0, 0, 0) rotate(0);
  }

  &__x-left {
    opacity: 0;
    top: 50%;
    left: 50%;
    transform: translate3d(-50%, -50%, 0) rotate(45deg);
    display: none;
  }

  &__x-right {
    opacity: 0;
    top: 50%;
    left: 50%;
    transform: translate3d(-50%, -50%, 0) rotate(-45deg);
    display: none;
  }

  &__close {
    opacity: 0;
    position: absolute;
    width: 100%;
    height: 100%;
    top: 0;
    left: calc(var(--base));
    display: flex;
    align-items: center;
    pointer-events: none;
  }

  &__chevron {
    opacity: 0;
    path {
      stroke-width: 1px;
      vector-effect: non-scaling-stroke;
    }
  }

  &--active {
    .nav-icon {
      &__x-left,
      &__x-right {
        opacity: 1;
      }

      &__close,
      &__chevron {
        opacity: 1;
        pointer-events: all;
      }

      &__top,
      &__middle,
      &__bottom {
        opacity: 0;
      }
    }
  }

  @include large-break {
    &__x-left,
    &__x-right {
      display: block;
    }

    &__close,
    &__chevron {
      display: none;
      pointer-events: none;
    }
  }
}
